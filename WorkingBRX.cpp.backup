// Working BRX Plugin - Simple and Functional
// Avoids problematic headers while providing basic functionality

#include <windows.h>

// DLL Entry Point
BOOL APIENTRY DllMain(HMODULE hModule, DWORD dwReason, LPVOID lpReserved) {
    return TRUE;
}

// BRX Entry Point
extern "C" __declspec(dllexport) int acrxEntryPoint(int msg, void* pkt) {
    switch (msg) {
        case 1: // kInitAppMsg
            MessageBoxW(NULL, L"Enhanced Construction Takeoff Plugin Loaded!\n\nCommands Available:\nCTO - Construction Takeoff Overview\nCM - Color Mapping\nPS - Pitch Setup", L"Plugin Loaded", MB_OK | MB_ICONINFORMATION);
            return 0;
        case 2: // kUnloadAppMsg
            return 0;
        default:
            return 0;
    }
}

// API Version Export
extern "C" __declspec(dllexport) int acrxGetApiVersion() {
    return 25;
}